# 🔗 内部リンク構造分析ツール（Streamlit版）

WebサイトのCSV形式内部リンクデータを分析・可視化するStreamlitアプリケーションです。

## 🚀 機能

### 📊 分析機能
- **ピラーページ分析**: 被リンク数の多いページを特定
- **クラスター分析**: アンカーテキストの頻度と多様性を分析  
- **孤立記事検出**: 内部リンクを受けていないページを特定
- **ネットワーク図**: 内部リンク関係の可視化（静的・インタラクティブ）
- **総合レポート**: 問題検出と推奨事項付きサマリー

### 📋 対応データ形式
CSVファイルに以下の列が必要です：
- `A_番号`: 連番
- `B_ページタイトル`: ターゲットページのタイトル
- `C_URL`: ターゲットページのURL
- `D_被リンク元ページタイトル`: リンク元ページのタイトル
- `E_被リンク元ページURL`: リンク元ページのURL
- `F_被リンク元ページアンカーテキスト`: アンカーテキスト

## 🛠️ セットアップ

### 1. 必要なライブラリをインストール
```bash
pip install -r requirements.txt
```

### 2. アプリケーションを起動
```bash
streamlit run streamlit_app.py
```

### 3. ブラウザでアクセス
通常は `http://localhost:8501` でアクセスできます。

## 📁 プロジェクト構成

```
link-analysis-tool/
├── streamlit_app.py          # メインアプリケーション
├── requirements.txt          # 依存関係
├── .streamlit/
│   └── config.toml          # Streamlit設定
└── README.md                # このファイル
```

## 💻 動作環境

- Python 3.8+
- メモリ: 4GB以上推奨（大規模データの場合は8GB+）
- ストレージ: 100MB以上の空き容量

## 🎯 使い方

1. **CSVアップロード**: サイドバーからCSVファイルをアップロード
2. **データ確認**: 読み込まれたデータの統計を確認
3. **分析実行**: 各タブで目的の分析を実行
4. **レポート生成**: HTMLレポートのダウンロード

## 📊 分析結果の見方

### ピラーページ分析
- 被リンク数でソートされたページ一覧
- 棒グラフでの視覚的な比較
- HTMLレポートでの詳細情報

### クラスター分析
- アンカーテキストの頻度分析
- 多様性指数（1に近いほど多様）
- HHI（ハーフィンダール・ハーシュマン指数）

### 孤立記事検出
- 内部リンクを受けていないページのリスト
- SEO改善の優先順位付けに活用

### ネットワーク図
- **散布図**: 軽量な概要表示
- **ネットワーク図**: 中程度の詳細表示
- **インタラクティブ**: 高詳細なpyvis形式

## ⚠️ 注意事項

- 大規模データ（1万件+）では処理に時間がかかる場合があります
- インタラクティブネットワーク図は特に重い処理です
- ブラウザのメモリ不足にご注意ください

## 🔧 トラブルシューティング

### よくある問題

**Q: CSVアップロードでエラーが出る**
A: ファイル形式とエンコーディング（UTF-8）を確認してください

**Q: ネットワーク図が表示されない**
A: pyvisライブラリがインストールされているか確認してください

**Q: メモリ不足エラー**
A: データサイズを小さくするか、上位N件表示数を減らしてください

## 📈 パフォーマンス最適化

- ネットワーク図の表示件数を調整（デフォルト40件）
- 大規模データでは孤立ページ表示をOFFに
- 分析対象期間を限定してデータサイズを削減

## 🤝 貢献

バグ報告や機能改善の提案は Issue でお知らせください。

## 📄 ライセンス

MIT License
